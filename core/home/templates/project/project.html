{% extends "base.html" %}


{% block start %}

    <div class="container mt-5">
        <h2 class="text-center">You've got 3 chances to guess the lucky number</h2>
                
        <form action="#">

        <div class="form-group col-md-5 mx-auto">
            <label>Hope you win !!!</label>
            <input class="form-control mt-1" id="input" placeholder="Guess the number">
        </div>

        <div class="text-center mt-3">
        <button class="btn btn-success" type="button" onclick="checkluck()">Check now</button>
    </div>

    </form>

    </div>

    <!-- <p>{{lucky_number}}</p> -->


    <script>

        var lucky_number = "{{lucky_number}}"
        var count = 3
        console.log(lucky_number)

        function checkluck() {

            var input = document.getElementById('input')

            if(input.value=="") {
                alert("Input cannot be blank");
            }
            
            if (count < 1) {
                alert("You have exhausted the counts");
                return
            }
            
            count -= 1

            if (lucky_number == input.value) {
                alert("Wow, you won!");
                return
            }     
            else if (lucky_number < input.value) {
                alert(`Sorry, your guess number is big \nTry again ${count} times`);
                input.value = ""
                return
            } 
            else if (lucky_number > input.value) {
                alert(`Sorry, your guess number is small \nTry again ${count} times`);
                input.value = ""
                return
            }

        }

    </script>

{% endblock %}